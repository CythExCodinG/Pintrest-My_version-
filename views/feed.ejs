<% include ./partials/header.ejs %>

  <div class="w-full min-h-screen bg-zinc-800">
    <div class="cards flex flex-wrap justify-center p-10 gap-10">
      <% posts.forEach((post)=>{ %>
        <div class="card w-70 h-65 flex flex-col" data-id="<%= post._id %>">
          <div class="img w-full h-full overflow-hidden rounded-lg">
            <img class="w-full h-full center" src="/images/upload/<%= post.image %>" alt="">
          </div>
          <h1 class="text-center text-2xl text-zinc-400 font-semibold mt-1">
            <%=post.title %>
          </h1>
          <span class="text-white text-zinc-200 mt-3 line-clamp-1">
            <%=post.description %>
          </span>
        </div>
        <% }); %>
    </div>
  </div>

  <script>
    document.querySelectorAll('.card')
      .forEach((card) => {
        card.addEventListener("click", () => {
          const postid = card.getAttribute('data-id')
          console.log(postid)
          window.location.href = `/show/post/${postid}`;
        })
      })
  </script>
  <% include ./partials/footer.ejs %>